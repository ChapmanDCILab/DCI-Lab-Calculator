<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="topnav">
    <a href="index.html">Home</a>
    <a class="active" href="3d.html">Ultimaker 3D Printer</a>
    <a href="resin.html">Forms 3 Resin Printer</a>
    <a href="j850.html">J850 Full Color Printer</a>
    <a href="cutter.html">Roland Vinyl Cutter</a>
  </div>
  <div class="container">
    <h1>3D PRINT CALCULATOR</h1>
    <div class="wrapper">
      <p>Number of grams: </p>
      <input type="text" id="amount" placeholder="Total amount of grams"> g
      <p>Select type of filament: </p>
      <select id="services">
        <option selected disabled hidden>Select</option>
        <option value="0.08">Low Cost Filament</option>
        <option value="0.10">High Cost Filament</option>
      </select>
      <button id="calculate">Calculate</button>
    </div>
    <div class="gram">
      <p>Total Cost Of Print:</p>
      $<span id="total">0.00</span>
    </div>
    <div class="links">
      <img id="printer" src="printer.jpg" alt="Makerspace Printers">
    </div>
  </div>

  <script>
    window.onload = () => {
      document.querySelector('#calculate').onclick = calculateGrams;
    }

    function calculateGrams() {
      let amount = document.querySelector('#amount').value;
      let services = document.querySelector('#services').value;

      if (amount === '') {
        alert("Please enter a valid value");
        return;
      }

      let total;
      if (services === '0.08') {
        total = (parseFloat(amount) / 4) * 0.08;
      } else if (services === '0.10') {
        total = (parseFloat(amount) / 2) * 0.10;
      } else {
        alert("Please select a filament type");
        return;
      }

      total = total.toFixed(2);

      document.querySelector('.gram').style.display = 'block';

      if (amount <= 40 && services === '0.08') {
        document.querySelector('#total').innerHTML = total + ' OR free for your first print under 40g of the day';
      } else {
        document.querySelector('#total').innerHTML = total;
      }
    }
  </script>
</body>

</html>
